"use strict";(self["webpackChunkvue_cnode"]=self["webpackChunkvue_cnode"]||[]).push([[447],{7447:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("div",[t("base-panel",[t("template",{slot:"panel-head"},[t("router-link",{attrs:{to:"/"}},[e._v("主页")]),e._v(" / "),t("span",[e._v("发布话题")])],1),t("template",{slot:"panel-content"},[t("el-form",{ref:"myFrom",attrs:{model:e.ison,rules:e.rules}},[t("el-form-item",{attrs:{label:"请选择板块：",prop:"tab"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.ison.tab,callback:function(t){e.$set(e.ison,"tab",t)},expression:"ison.tab"}},[t("el-option",{attrs:{label:"分享",value:"share"}},[e._v("分享")]),t("el-option",{attrs:{label:"招聘",value:"job"}},[e._v("招聘")]),t("el-option",{attrs:{label:"问答",value:"ask"}},[e._v("问答")]),t("el-option",{attrs:{label:"客户端测试",value:"dev"}},[e._v("客户端测试")])],1)],1),t("el-form-item",{attrs:{label:"表题",prop:"title"}},[t("el-input",{attrs:{placeholder:"标题字数10字以上"},model:{value:e.ison.title,callback:function(t){e.$set(e.ison,"title",t)},expression:"ison.title"}})],1),t("el-form-item",{attrs:{label:"账号",prop:"content"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"30","show-word-limit":""},model:{value:e.ison.content,callback:function(t){e.$set(e.ison,"content",t)},expression:"ison.content"}})],1)],1),t("el-button",{on:{click:e.btn}},[e._v("提交")])],1)],2)],1)},n=[],o=(l(7658),l(2301)),s=l(3150),r={components:{basePanel:o.Z},data(){return{ison:{tab:"",title:"",content:""},rules:{title:[{required:!0,message:"不可为空",trigger:"blur"},{min:10,max:30,message:"长度在 10 到 30个字符",trigger:"blur"}],content:[{required:!0,message:"不可为空",trigger:"blur"}],tab:[{required:!0,message:"不可",trigger:"change"}]}}},methods:{btn(){this.$refs.myFrom.validate((async e=>{if(e){const{ison:e}=this,t=sessionStorage.getItem("accesstoken"),l=await(0,s.Ue)(t,e.title,e.tab,e.content);this.$router.push(`/topic/${l.topic_id}`)}}))}}},i=r,c=l(1001),u=(0,c.Z)(i,a,n,!1,null,null,null),p=u.exports}}]);
//# sourceMappingURL=447.02e680c1.js.map